<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>CobblerWebUi - Gosuke Miyashita</title>
<link rel="stylesheet" href="/css/fonts.css" type="text/css" charset="utf-8">
<link rel="stylesheet/tass" type="text/x-tass" href="/css/style.tass"/>
<script type="text/javascript" src="/js/tass.js"></script>
<link href="/atom.xml" rel="alternate" title="Gosuke Miyashita" type="application/atom+xml">
</head>
<body>
<h1 class="site-title"><a href="/">Gosuke Miyashita</a></h1>

<div class="content autopagerize_page_element">

  <time>Dec 29<span>th</span>, 2007</time>
  <h1 class="entry-title"><a href="/blog/2007/12/29/2">CobblerWebUi</a></h1>

  <div class="content">
    <p><a href="http://trac.mizzy.org/public/wiki/Cobbler">前回のエントリで書いた</a> Cobbler にはウェブ UI がある。その設定方法のメモ。設定方法は<a href="https://hosted.fedoraproject.org/cobbler/wiki/OldCobblerWebUi">ここ</a>を参照した。Cobbler のバージョンが 0.7 以降の場合は<a href="https://hosted.fedoraproject.org/cobbler/wiki/CobblerWebInterface">こっちを参照</a>。</p>

<p>まずは /var/lib/cobbler/settings の xmlrpc<em>rw</em>enabled を 1 に設定。</p>

<pre><code>xmlrpc_rw_enabled:  1
</code></pre>

<p>これを見て想像がつくと思うけど、cobblerd が XMLRPC リクエストを受け付けるようになる。</p>

<p>次に /etc/cobbler/auth.conf で、cobblerd の XMLRPC へのアクセスを許可するユーザ ID とパスワードを設定する。</p>

<pre><code>[xmlrpc_service_users]
admin = password
</code></pre>

<p>/etc/cobbler/auth.conf が httpd ユーザから読めるようにする。</p>

<pre><code>$ sudo chown apache /etc/cobbler/auth.conf
</code></pre>

<p>SELinux を利用している場合はこの設定も必要らしい。（自分は SELinux は disabled にしてる。）</p>

<pre><code>$ sudo chcon -t httpd_sys_content_t /etc/cobbler/auth.conf
$ sudo setsebool httpd_can_network_connect true
</code></pre>

<p>httpd で認証するユーザ名とパスワードを設定する。これは /etc/cobbler/auth.conf で設定したものと同じにする。</p>

<pre><code>$ sudo htdigest /var/www/cgi-bin/cobbler/.htpasswd &quot;Cobbler WebUI Authentication&quot; admin
</code></pre>

<p>あとは <a href="http://cobbler.example.org/cgi-bin/cobbler/webui.cgi">http://cobbler.example.org/cgi-bin/cobbler/webui.cgi</a> にアクセスすれば OK。以下のスクリーンショットは Profile を表示させたところ。</p>

<p>[[Image(cobbler<em>web</em>ui.jpg)]]</p>

<p>この画面見てて気づいたんだけど、Cobbler では system の登録ができて、MAC アドレスを登録して Profile を指定しておけば、PXE ブート時にイメージ名を入力しなくても、勝手に指定された Profile のイメージでブートしてくれる。</p>

<p>system の登録はコマンドラインでもできる。</p>

<pre><code>$ sudo cobbler system add --name=test-server --mac=00:0C:29:7E:3A:8B --profile=f7-i386
</code></pre>

  </div>


  <div class="pagination">
    
    <a href="/blog/2007/12/29/1" rel="next">next post</a>
    
    
    
    <a href="/blog/2007/12/31/1">previous post</a>
    
  </div>

</div>

<div class="autopagerize_insert_before"></div>

</body>
</html>
