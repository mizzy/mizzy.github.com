<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>ペパボでの GitHub の使い方 - Gosuke Miyashita</title>
<link rel="stylesheet" href="/css/fonts.css" type="text/css" charset="utf-8">
<link rel="stylesheet/tass" type="text/x-tass" href="/css/style.tass"/>
<script type="text/javascript" src="/js/tass.js"></script>
<link href="/atom.xml" rel="alternate" title="Gosuke Miyashita" type="application/atom+xml">
</head>
<body>
<h1 class="site-title"><a href="/">Gosuke Miyashita</a></h1>

<div class="content autopagerize_page_element">

  <time>Nov 2<span>nd</span>, 2012</time>
  <h1 class="entry-title"><a href="/blog/2012/11/02/1">ペパボでの GitHub の使い方</a></h1>

  <div class="content">
    <p><a href="http://dqn.sakusakutto.jp/2012/10/github_introduce.html">必殺！Github導入に向けて上司を説得する時に使える資料まとめ - DQNEO起業日記</a> でペパボも取り上げて頂いたので、ペパボでの GitHub の使い方について、少し詳しく書いてみます。</p>

<h2>開発での利用</h2>

<p>これは普通の使い方ですね。なので省略。</p>

<hr>

<h2>GitHub Enterprise は利用していない</h2>

<p>金額的な面で GitHub Enterprise の利用は厳しいため、GitHub Enterprise ではなく、ノーマル（？）な GitHub を利用しています。（GitHub Enterprise にすると、現在のコストの 8 〜 9 倍ぐらいになってしまう。）</p>

<p>ここはセキュリティ面とのバランスが難しいところではありますが…</p>

<p>とはいえ、GitHub に何かあってソースコードが流出した場合に影響の大きさが懸念されるサービスについては、GitHub を利用しない、といった判断もしています。（ですので、現在ペパボ全社的に完全に GitHub に移行してる、というわけではないです。）</p>

<hr>

<h2>サービスや部署単位で組織アカウントを持っている</h2>

<p>ペパボはサービスが多いため、ひとつの組織アカウントに全サービスのリポジトリを持たせるとカオスになりそうなため、サービスや部署毎に組織アカウントを作って運用しています。 以下の画像のように、様々なサービスの組織アカウントがあります。</p>

<p><img src="/images/2012/11/organizations.png"></p>

<hr>

<h2>運用省力化スクリプト</h2>

<p>とはいえ、組織アカウントを分散してしまうと、メンバーの管理が面倒になってしまいます。そこで、<a href="https://github.com/mizzy/gh-tools/blob/master/manage_paperboy.rb">GitHub の API を利用したスクリプト</a> により、その辺りの運用を省力化しています。このスクリプトでは以下のようなことをやっています。</p>

<ul>
<li>与えられたテキストファイルに書かれたアカウントを、paperboy-all という組織アカウントの、paperboy というチームに追加する。</li>
<li>paperboy-all/paperboy チームのメンバーを、他のペパボ組織アカウントの paperboy チームに同期する</li>
<li>各ペパボ組織アカウントの paperboy チームに対して、その組織アカウント内のプライベートリポジトリに対する Pull Only 権限を与える</li>
</ul>

<p>このスクリプトを cron で回すことにより、新しくメンバーを追加したい場合は、所定のテキストファイルに書き込んでおくだけで済み、新たにリポジトリが作られた場合には、自動的にペパボ全社員が参照できるようになります。</p>

<p>これ以外のチームメンバー運用については、各組織アカウントにひもづくサービスや部署に一任しています。</p>

<p>また、組織アカウントがたくさんあると、経理の方の処理が大変なので、月一で組織アカウント毎の支払日と金額をリストアップした Wiki ページを作成し、経理用 ML にリンクを送る、というスクリプトも動かしてます。（GitHub にまだあげてないですが、興味ある方がいればあげますので、お知らせください。）</p>

<hr>

<h2>技術者の人事評価</h2>

<p><a href="/blog/2012/02/29/1/">ここ</a> とか <a href="/blog/2012/08/20/1/">ここ</a> で書いてますが、技術者の人事評価の中で、以下のように利用しています。</p>

<ul>
<li>シニア、アドバンスド・シニアに昇格したい人は、自分がそれに相応しいと思う理由や実績を Markdown で書いて、評価用リポジトリに pull request する。

<ul>
<li>このリポジトリはペパボ社員なら誰でも見ることができる。</li>
</ul></li>
<li>評価文書について pull request 内のコメントでやりとりして修正してもらう。たとえば、ここもっと詳しく書いて、とか、こういうことやってたから、文書に盛り込むといいんじゃない、的なやりとりを。</li>
<li>pull request された文書を元に、面談を行う。</li>
<li>面談が終わったら、pull request をマージする。</li>
<li>マージ後、宮下が一次評価結果とコメントを Markdown 文書に書き込む。

<ul>
<li>結果とコメントも、当然ペパボ社員なら誰でも見ることができる。</li>
</ul></li>
</ul>

<p>実際に pull request されたものは、こんな感じです。</p>

<p><img src="/images/2012/11/morygonzalez.png"></p>

<hr>

<h2>デザインプロセスの共有</h2>

<p><a href="https://twitter.com/chocolatina">@chocolatina</a> が <a href="http://togetter.com/li/398295">【デザイン】 Webサービスのデザイン過程晒してみた 【ブクログ プレミアム】</a> でまとめてくれてる、デザインの制作過程ですが、社内では GitHub Issues を利用して過程が共有されています。</p>

<p><img src="/images/2012/11/screenshots.png"></p>

<p>YAPC::Asia Tokyo 2012 で配布したあんちぽブロマイド制作秘話なんかも共有されています。その一部をチラ見せ。</p>

<p><img src="/images/2012/11/antipop.png"></p>

<p>おそらく、<a href="https://twitter.com/demiflare168">@demiflare168</a> がこれを全部パブリックに晒してくれるはずなので、お楽しみに。</p>

<p>こんな感じで過程をイシューにまとめて、デザイナ同士がコメントでやりとりして、デザインプロセスの共有を行っています。</p>

<hr>

<h2>イベントに関するやりとり</h2>

<p><a href="http://atnd.org/event/peparty1210">PAPARTY!</a> というイベントが 10/27(土) に大阪で開催され、また、<a href="https://www.facebook.com/events/544148265612094/">福岡でも 11/24(土)に開催予定</a> なんですが、これに関するアイデアだし、ミーティング議事録、TODO 管理なども、GitHub の Issues を活用して行われています。</p>

<p>こういった感じで、ペパボでは開発以外にも、様々な形で GitHub を活用しています。</p>

  </div>


  <div class="pagination">
    
    <a href="/blog/2012/10/01/1" rel="next">next post</a>
    
    
    
    <a href="/blog/2012/11/05/1">previous post</a>
    
  </div>

</div>

<div class="autopagerize_insert_before"></div>

</body>
</html>
