<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Text::Trac - Trac Wiki 記法パーサ #1 - Gosuke Miyashita</title>
<link rel="stylesheet" href="/css/fonts.css" type="text/css" charset="utf-8">
<link rel="stylesheet/tass" type="text/x-tass" href="/css/style.tass"/>
<script type="text/javascript" src="/js/tass.js"></script>
<link href="/atom.xml" rel="alternate" title="Gosuke Miyashita" type="application/atom+xml">
</head>
<body>
<h1 class="site-title"><a href="/">Gosuke Miyashita</a></h1>

<div class="content autopagerize_page_element">

  <time>Jun 20<span>th</span>, 2006</time>
  <h1 class="entry-title"><a href="/blog/2006/06/20/1">Text::Trac - Trac Wiki 記法パーサ #1</a></h1>

  <div class="content">
    <p><h3 id="Text::Tracをblosxomから呼び出してみるテスト">Text::Trac を blosxom から呼び出してみる テスト</h3>
<p>
Text::Trac が形になってきたので、実際に文章を書いてテストしてみる。
</p>
<h4 id="もういっちょ見出しのテスト">もういっちょ見出しのテスト</h4>
<p>
paragraph 1<br />
paragraph 1<br />
paragraph 1
</p>
<p>
paragraph 2<br />
paragraph 2<br />
paragraph 2
</p>
<ul><li>リスト 1</li>
<li>リスト 2</li>
<li>リスト 3</li></ul>
<ol start="1"><li>リスト 1</li>
<li>リスト 2</li>
<li>リスト 3</li></ol>
<dl>
<dt>定義リスト1</dt>
<dd>
内容その1
</dd>
<dt>定義リスト2</dt>
<dd>
内容その2
</dd>
</dl>
<p>
上の内容は実際にはこんな感じで書いてます。
</p>
<pre class="wiki">
= Text::Trac を blosxom から呼び出してみる テスト =</p>

<p>== もういっちょ見出しのテスト ==</p>

<p>paragraph 1[[BR]]
paragraph 1[[BR]]
paragraph 1</p>

<p>paragraph 2[[BR]]
paragraph 2[[BR]]
paragraph 2</p>

<ul>
<li>リスト 1</li>
<li>リスト 2</li>
<li>リスト 3</li>
</ul>

<ol>
<li>リスト 1</li>
<li>リスト 2</li>
<li>リスト 3</li>
</ol>

<p>定義リスト1::
   内容その1
 定義リスト2::
   内容その2
</pre>
<p>
blosxom からは以下の様なプラグインで Text::Trac を呼び出してます。
</p>
<pre class="wiki"></p>

<h1>Blosxom Plugin: text_trac</h1>

<h1>Author: Gosuke Miyashita &lt;miya at mizzy.org&gt;</h1>

<h1>Version: 2006-06-20</h1>

<h1>Blosxom Home/Docs/Licensing: <a href="http://www.blosxom.com/">http://www.blosxom.com/</a></h1>

<p>package text_trac;</p>

<p>use strict;
use Text::Trac;</p>

<p>sub start {
  1;
}</p>

<p>sub story {
  my($pkg, $path, $filename, $story<em>ref, $title</em>ref, $body<em>ref) = @</em>;</p>

<p>if ( $meta::syntax eq &#39;trac&#39; ){
      my $parser = Text::Trac-&gt;new( min<em>heading</em>level =&gt; 3 );
      $parser-&gt;parse($$body<em>ref);
      $$body</em>ref = $parser-&gt;html;
  }</p>

<p>return 1;
}</p>

<p>1;</p>

<p><strong>END</strong>
</pre>
<p>
Text::Trac 自体はもうちょいで CPAN にアップできると思います。ただし、Yappo さんご所望の機能はもう少し時間ください。
</p></p>

  </div>


  <div class="pagination">
    
    <a href="/blog/2006/06/17/1" rel="next">next post</a>
    
    
    
    <a href="/blog/2006/06/20/2">previous post</a>
    
  </div>

</div>

<div class="autopagerize_insert_before"></div>

</body>
</html>
